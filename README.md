**Терехов Никита** 

**ПИ20-4**

**Лабораторная работа "Многопоточный сервер" по Практикуму по программированию**

**Задания для самостоятельного выполнения**

1. Модифицировать простой эхо-сервер таким образом, чтобы при подключении клиента создавался новый поток, в котором происходило взаимодействие с ним.

Данный функционал можно увидеть в п. 3, когда к многопоточному серверу одновременно смогут подлючиться несколько пользователей, следовательно, взаимодействие с каждым происходит в новом потоке.

2. Реализовать простой чат сервер на базе сервера аутентификации. Сервер должен обеспечивать подключение многих пользователей одновременно, отслеживание имен пользователей, поддерживать историю сообщений и пересылку сообщений от каждого пользователя всем остальным.

Сервер: ![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.001.png)

Клиент 1 (регистрация): ![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.002.png)

Клиент 2 (регистрация): ![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.003.png)

Клиент 1: ![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.004.png)

Клиент 2: ![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.005.png)

Клиент 2: ![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.006.png)

Клиент 1: ![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.007.png)

Клиент 2 (выходит): ![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.008.png)

Клиент 2 (вход, неверный пароль): ![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.009.png)

Клиент 2 (вход): ![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.010.png)

Клиент 1: ![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.011.png)

3. Реализовать сервер с управляющим потоком. При создании сервера прослушивание портов происходит в отдельном потоке, а главный поток программы в это время способен принимать команды от пользователя. Необходимо реализовать следующие команды:

Сервер (ввод не существующей команды): ![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.012.png)

Клиент: 

\1. Отключение сервера (завершение программы);

![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.013.png)

\2. Пауза (остановка прослушивание порта);

![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.014.png)

При подключении клиента его не приветсвуют (запрещают взаимодействовать с сервером) до тех пор, пока сервер не будет снят с паузы. ![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.015.png)

![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.016.png)

![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.017.png)

\3. Показ логов;

![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.018.png)

\4. Очистка логов;

![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.019.png)

\5. Очистка файла идентификации.

![screenshot](Aspose.Words.788d904e-e74c-46c2-bd87-566161cf7c9d.020.png)

